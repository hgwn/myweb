jQuery&&function(e){e.fn.pagination=function(t,n){return n=e.extend({num_total:t,items_per_page:6,num_display_entries:10,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"&laquo;",next_text:"&raquo;",ellipse_text:"...",prev_show_always:!0,next_show_always:!0,callback:function(){return!1},refreshCallback:function(){return!1}},n||{}),this.each(function(){function a(){return Math.ceil(t/n.items_per_page)}function i(){var e=Math.ceil(n.num_display_entries/2),t=a(),i=t-n.num_display_entries,r=_>e?Math.max(Math.min(_-e,i),0):0,s=_>e?Math.min(_+e,t):Math.min(n.num_display_entries,t);return[r,s]}function r(e,t){_=e,s();var a=n.callback(e,p);return a||(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0),a}function s(){p.empty();var t=i(),s=a(),c=function(e){return function(t){return r(e,t)}},u=function(t,n){if(t=0>t?0:s>t?t:s-1,n=e.extend({text:t+1,classes:""},n||{}),t==_)var a=e("<li class='active'><span>"+n.text+"</span></li>");else var a=e("<li><a>"+n.text+"</a></li>").bind("click",c(t));n.classes&&a.addClass(n.classes),p.append(a)};if(n.first_text&&u(0,{text:n.first_text}),n.prev_text&&(_>0||n.prev_show_always)){var o=e("<li><a>"+n.prev_text+"</a></li>").bind("click",c(_>0?_-1:0));p.append(o)}if(t[0]>0&&n.num_edge_entries>0){for(var f=Math.min(n.num_edge_entries,t[0]),d=0;f>d;d++)u(d);n.num_edge_entries<t[0]&&n.ellipse_text&&e("<li>"+n.ellipse_text+"</li>").appendTo(p)}for(var d=t[0];d<t[1];d++)u(d);if(t[1]<s&&n.num_edge_entries>0){s-n.num_edge_entries>t[1]&&n.ellipse_text&&e("<li class='active'>"+n.ellipse_text+"</li>").appendTo(p);for(var m=Math.max(s-n.num_edge_entries,t[1]),d=m;s>d;d++)u(d)}if(n.next_text&&(s-1>_||n.next_show_always)){var o=e("<li><a>"+n.next_text+"</a></li>").bind("click",c(s-1>_?_+1:s-1));p.append(o)}if(n.last_text&&u(s-1,{text:n.last_text}),n.refreshBtnShow){var o=e("<li class='active'><span><div class='refresh'></div></span></li>").bind("click",c(_));p.append(o)}p.append("<li><span><div class='pagination_info' style=\"color:red\">当前是第"+l()+"条,共"+n.num_total+"条记录</div></span></li>")}var l=function(){return n.items_per_page*_+1+"-"+(n.items_per_page*(_+1)<n.num_total?n.items_per_page*(_+1):n.num_total)},_=n.current_page;t=!t||0>t?1:t,n.items_per_page=!n.items_per_page||n.items_per_page<0?1:n.items_per_page;var p=e(this);this.selectPage=function(e){r(e)},this.prevPage=function(){return _>0?(r(_-1),!0):!1},this.nextPage=function(){return _<a()-1?(r(_+1),!0):!1},s(),n.callback(_,this)})}}(jQuery);