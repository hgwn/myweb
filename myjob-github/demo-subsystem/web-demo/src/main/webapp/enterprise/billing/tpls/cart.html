		<div class="row">
			<div class="col-md-12 col-xs-12">
				<h3 class="h-prod-title">售货开单</h3>
			</div>
		</div>
<!-- start  -->
<form class="form-inline">
	<div class="row clearfix">
		<div class="col-md-4 form-group" style="white-space:nowrap; ">
			<label>客户:</label>
			
<!--			<select class="form-control" ng-model="orders.buyername">
				<option ng-repeat="v in buy" value="{{v.contactname}}">{{v.contactname}}</option>
			</select>
			&lt;!&ndash; <input type="text" class="form-control" name="buyername"  id="buyername" ng-model="orders.buyername" /> &ndash;&gt;
		    <button  class="btn btn-default" id="modal-184101" href="#modal-container-184101" role="button" data-toggle="modal">新增</button>-->
		</div>	
		<div class="col-md-4 form-group">
			<label>联系电话:</label> <input type="text" class="form-control"
				ng-model="orders.buyerphone" />
		</div>
		<div class="col-md-4 form-group"></div>
	</div>
	<div class="row clearfix">
	<div class="col-md-11 form-group">
			<label style="width: 19%;font-size: 11px;">
			<input type="checkbox" ng-model="orders.unknowbuery" />匿名客户</label>
		</div>
	</div>	
	<div class="row clearfix"><!-- 仅仅当需要送货上门的才需要填写送货地址 -->
		<div class="col-md-12 form-group" id="h_billing_address">
			<label>送货地址:</label> <select class="form-control"
				ng-model="orders.buyerprovinceid">
				<option value="">--请选择--</option>
				<option ng-repeat="v in pca.data" ng-if="v.provinceid != 0" value="{{v.provinceid}}">{{v.provincename}}</option>
			</select> <select class="form-control" ng-model="orders.buyercityid">
				<option value="">--请选择--</option>
				<option ng-repeat="v in cities" value="{{v.cityid}}">{{v.cityname}}</option>
			</select> <select class="form-control" ng-model="orders.buyerareaid">
				<option value="">--请选择--</option>
				<option ng-repeat="v in areas" value="{{v.areaid}}">{{v.areaname}}</option>
			</select> <input type="text" class="form-control"
				ng-model="orders.buyeraddress" placeholder="请输入详细地址"/ >
		</div>
	</div>
	<div class="row clearfix">
		<div class="col-md-6 form-group">
			<label>备注:</label> <input type="text" class="form-control"
				ng-model="orders.remark" />
		</div>
		<div class="col-md-6 form-group">
			<input type="text" ng-model="queryFormData.goodsname" placeholder="商品名/货号/条形码"
				class="search_key" />
			<button class="btn btn-default" ng-click="doQueryAndLinkGoodsData()">查询</button>
		</div>
	</div>
		
	<div class="row clearfix">
		<div class="col-md-4 form-group">
			<label>单号:</label> <input type="text" class="form-control"
				ng-model="orders.ordernum" />
		</div>
		<div class="col-md-4 form-group">
		<label>仓库:</label>
		<select class="form-control" ng-model="orders.stationid">
				<option value="">--请选择--</option>
				<option ng-repeat="v in stationtype.data.rows" value="{{v.stationid}}">{{v.stationname}}</option>
		</select>		
		</div>
		<div class="col-md-4 form-group"></div>
	</div>
		
	<table class="table table-bordered">
		<thead>
			<tr class="success">
				<th>货号</th>
				<th>商品名称</th>
				<th>销售价</th>
				<th>成交价</th>
				<th>数量</th>
				<th>折扣金额</th>
				<th>合计</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="cart in orders.orderlist"
				ng-click="editCommodity(cart)">
				<td>{{cart.barcode}}</td>
				<td>{{cart.goodsname}}</td>
				<td>{{cart.goodsunitprice | currency:"￥  "}}</span></td>
				<td>￥ <input type="text" ng-model="cart.dealingprice"
					style="width: 80px;">
				</td>
				<td><input type="number" min="1" ng-model="cart.goodsqty" 
					class="ng-valid ng-valid-min ng-dirty ng-valid-number ng-touched" style="width:80px;">
				<td> {{cart.goodsunitprice*cart.goodsqty-cart.dealingprice*cart.goodsqty | currency:"￥  "}}</td>
				<td>{{cart.dealingprice*cart.goodsqty | currency:"￥  "}}</td>
				<td><a href="" class="link_delete" ng-click="deletecart(cart)">删除</a>
				</td>
			</tr>
			<tr class="warning">
				<td></td>
				<td></td>
				<td></td>
				<td>合计</td>
				<td>{{orders.totgoodsqty}}</td>
				<td>{{orders.totdiscountmoney | currency:"￥  "}}</td>
				<td><span style="color: red;">{{orders.totgoodsmoney |currency:"￥  " }}</span></span></td>
				<td></td>
			</tr>
		</tbody>
	</table>

	<div class="row clearfix">
		<div class="col-md-4 form-group">
			<label>本次收款金额:</label> <input type="text" class="form-control"
				ng-model="orders.goodsdeposit" />
		</div>
		<div class="col-md-4 form-group"
			ng-if="orders.totgoodsmoney > orders.goodsdeposit">
			<label>尾款金额:</label> <span style="color: red;font-size: 24px;">￥
				{{orders.totgoodsmoney - orders.goodsdeposit}}</span>
		</div>
	</div>
	<div class="row clearfix">
		<div class="col-md-4 form-group">
			<label>结算方式:</label> 
			<select class="form-control"  ng-model="orders.settlementtypeid">
				<option value="">--请选择--</option>
				<option ng-repeat="item in settlementtype" value="{{item.id}}">{{item.name}}</option>
			</select>
		</div>
		<div class="col-md-4 form-group"
			ng-if="orders.goodsdeposit != 0 && orders.totgoodsmoney >= orders.goodsdeposit">
			<label>支付方式:</label> 
			<select class="form-control" ng-model="orders.paymenttype">
				<option value="">--请选择--</option>
				<option ng-repeat="item in paymenttype" value="{{item.id}}">{{item.name}}</option>
			</select>
		</div>
		<div class="col-md-4 form-group">
			<label>交货方式:</label> 
			<select class="form-control"  ng-model="orders.deliveryflag">
				<option value="">--请选择--</option>
				<option ng-repeat="item in deliverytype" value="{{item.id}}">{{item.name}}</option>
			</select>
		</div>
	</div>
	<div class="modal-footer">
		<Button class="btn btn-info control_bottom_submit"
			style="width:150px;" ng-click="addsalesorder()">提交</Button>
	</div>
</form>

<!--新增的窗口开始  -->
<div class="modal fade" id="modal-container-184101" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				 <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h4 class="modal-title" id="myModalLabel">
					新增客户
				</h4>
			</div>
			<div class="modal-body">
				<div class="container">
					<div class="row clearfix">
						<div class="col-md-12 column">
							 <form class="form-horizontal" role="form">
								<div class="form-group">
									 <label for="inputEmail3" class="col-sm-2 control-label">姓名</label>
									<div  class="col-sm-10">
										<input class="form-control" id="name" type="text" />
									</div>
								</div>
								<div class="form-group">
									 <label for="inputPassword3" class="col-sm-2 control-label">公司</label>
									<div class="col-sm-10">
										<input class="form-control" id="company" type="text" />
									</div>
								</div>
								<div class="form-group">
									 <label for="inputPassword3" class="col-sm-2 control-label">电话</label>
									<div class="col-sm-10">
										<input class="form-control" id="phone" type="text" />
									</div>
								</div>
								<div class="form-group">
									 <label for="inputPassword3" class="col-sm-2 control-label">地址</label>
									<div class="col-sm-10">
									<div id="h_billing_address">
										<select class="form-control"
											ng-model="orders.provinceid">
											<option ng-repeat="v in pca.data" ng-if="v.provinceid != 0" value="{{v.provinceid}}">{{v.provincename}}</option>
										</select> <select class="form-control" ng-model="orders.cityid">
											<option ng-repeat="v in cities" value="{{v.cityid}}">{{v.cityname}}</option>
										</select> <select class="form-control" ng-model="orders.rareaid">
											<option ng-repeat="v in areas" value="{{v.areaid}}">{{v.areaname}}</option>
										</select> <input type="text" class="form-control"
											ng-model="orders.address" placeholder="请输入详细地址"/ >
									</div>
									</div>
								</div>
								<div  class="form-group">
									 <label for="inputPassword3" class="col-sm-2 control-label">客户类型</label>
									<div class="col-sm-10">
									<select class="form-control" ng-model="orders.scenetypeid">
										<option ng-repeat="item in buyname" value="{{item.scenetypeid}}">{{item.scenetypename}}</option>
									</select>
									</div>
								</div>
							</form> 
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				 <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button> <button type="button" class="btn btn-primary">保存</button>
			</div>
		</div>
	</div>
</div>
<!--新增的窗口end  -->