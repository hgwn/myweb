<!-- <div class="modal fade" id="warehouseout_add_modal" tabindex="-1" role="dialog" aria-hidden="true"> -->
    <!-- <div class="modal-dialog" style="width: 950px;">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" ng-click="closeWarehouseout();" aria-hidden="false">&times;</button>
                <h4 class="modal-title">增加出库单</h4>
            </div> -->
            <!-- div modal-header end -->

            <div>

                <ul id="addWarehouseout_tab" class="nav nav-tabs" role="tablist">
                    <li class="active">
                        <a href="#addwarehouseout#byOrders" data-toggle="tab" ng-click="addWarehouseout_source(0);">订单出库</a>
                    </li>
                    <li>
                        <a href="#addwarehouseout#byHand" data-toggle="tab" ng-click="addWarehouseout_source(1);">手工出库</a>
                    </li>
                </ul>
                
                <div style="position: absolute;right:0px;top:1%">
			        <div class="list-group">
			            <a ui-sref="warehouseout" class="list-group-item active">返回</a>
			        </div>
			    </div>
                <!-- ul tab end -->

                <div class="tab-content">
                    <div id="byOrders" class="tab-pane fade in active">



                        <div class="form-group row" ng-init="datetimepickerInit();">
                            <div class="col-xs-12 col-sm-4 col-md-2 col-lg-3">
                                <label for="txt_ordernum">仓库</label>
                        		<span  class="nullable">
							        <select name="warehouseid" class="form-control input-sm" ng-model="orders_QueryData.warehouseid" ng-options="stationItem.stationid as stationItem.stationname for stationItem in showStationLists">
							    
							        </select>
						        </span> 
                            </div>                        
                            <div class="col-xs-12 col-sm-4 col-md-2 col-lg-3">
                                <label for="txt_ordernum">订单号</label>
                                <input type="text" class="form-control col-md-12" id="txt_ordernum" placeholder="订单号" size="16" ng-model="orders_QueryData.ordernum" />
                            </div>
                            <div class="col-xs-12 col-sm-3 col-md-2 col-lg-2">
                                <label for="txt_createdtime_begin">创建开始时间</label>
                                <input  type="text"   class="form-control  col-md-12"  ng-model="orders_QueryData.begincreatedtime" data-date-format="yyyy-MM-dd" data-date-type="string" data-autoclose="1"  bs-datepicker style="height:30px;">

                            </div>
                            <div class="col-xs-12 col-sm-3 col-md-2 col-lg-2">
                                <label for="txt_createdtime_end">创建结束时间</label>
                                <input  type="text"   class="form-control  col-md-12"  ng-model="orders_QueryData.endcreatedtime" data-date-format="yyyy-MM-dd" data-date-type="string" data-autoclose="1"  bs-datepicker style="height:30px;">
                            </div>
                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-1">
                                <label for="btn_order_search">&nbsp;</label>
                                <button id="btn_order_search" type="button" class="btn btn-primary btn-block" ng-click="searchOrder();"><span class="glyphicon glyphicon-search"></span>&nbsp;查 询</button>
                            </div>
                        </div>
                        <!-- div form-group row end -->

                        <div class="table-responsive" style="max-height:392px;overflow:auto;">
                            <table class="table table-bordered table-hover table-striped table-condensed">
                                <thead>
                                    <tr class="info">
                                        <th width="28px">操作</th>
                                        <th width="120px">订单号</th>
                                        <th width="120px">采购商</th>
                                        <th width="120px">仓库名</th>
                                        <th width="120px">总金额</th>
                                        <th width="120px">总数量</th>
                                        <th width="120px">创建时间</th>
                                        <th width="120px">备注</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in warehouse_temp.orders.data.rows">
                                        <td><a href="javascript:void(0);" ng-click="showorderdetail(item);" ng-show="item.orderid=='-'?false:true" title="拣货"><span class="glyphicon glyphicon-log-out green">拣货</span></a></td>
                                        <td>{{item.ordernum}}</td>
                                        <td>{{item.buyername}}</td>
                                        <td>{{item.warehousename}}</td>
                                        <td>{{item.totgoodsmoney}}</td>
                                        <td>{{item.totgoodsqty}}</td>
                                        <td>{{item.createdtime  }}</td>
                                        <td>{{item.remark}}</td>
                                    </tr>
                                </tbody>
                            </table>

                            <pagination recordcount="{{warehouse_temp.orders.data.total}}" pagenum="orders_QueryData.pagenum" pagesize="orders_QueryData.pagesize" onselect="searchOrder();"></pagination>
                        </div>
                        <!-- div table-responsive end -->

                    </div>
                    <!-- div byOrders end -->

                    <div id="byHand" class="tab-pane fade">
                    	<form class="form-horizontal" name="warehouseoutAddForm" novalidate>
                        <div class="form-group row">
                            <div class="col-xs-12 col-sm-4 col-md-2 col-lg-3">
                                <label for="txt_ordernum">仓库</label>
                        		<span  class="nullable">
							        <select name="warehouseid" ng-change="warehouseChange()" class="form-control input-sm" ng-model="warehouse_temp.warehouseid" ng-options="stationItem.stationid as stationItem.stationname for stationItem in showStationLists_hand">
							    
							        </select>
						        </span> 
                            </div>                        
                            <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                                <label for="txt_warehouseoutnum">出库单号</label>
                                <input type="text" class="form-control col-md-12" id="txt_warehouseoutnum" placeholder="出库单号" ng-model="warehouse_temp.warehouseoutnum" name="warehouseoutnum" ng-class="{haserror:warehouseoutAddForm.warehouseoutnum.$invalid&&warehouse_temp.isCommitted}" ng-maxlength="50" required/>
                                 <div class="ng-messages-error" ng-messages="warehouse_temp.warehouseoutnum.$error" ng-show="warehouseoutAddForm.warehouseoutnum.$invalid&&warehouse_temp.isCommitted" >
                                            <span ng-message="required"><span class="glyphicon glyphicon-exclamation-sign"></span>出库单号不能为空!</span>
                                            <span ng-message="maxlength"><span class="glyphicon glyphicon-exclamation-sign"></span>出库单号最多只能输入50个字符!</span>
                                  </div>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                <label for="txt_remark">备注</label>
                                <input type="text" class="form-control col-md-12" ng-model="warehouse_temp.remark" placeholder="备注" />
                            </div>
                            <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                                <label>&nbsp;</label>
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" ng-model="warehouse_temp.autoaduitflag" ng-false-value="1" ng-true-value="2"> 自动审核 
                                    </label>
                                </div>
                            </div>
                        </div>
                        <!-- div form-group end -->


                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr class="info">
                                        <th width="28px">操作</th>
                                        <th width="100px">商品</th>
                                        <th width="100px">批次号</th>
                                        <th width="100px">编码</th>
                                        <th width="70px">货号</th>
	                                    <!--    <th width="120px">SKU</th>-->
	                                    <!--   <th width="120px">重量</th>-->
	                                    <!--    <th width="120px">虚拟商品</th>-->
                                        <th width="50px">进货单价</th>
                                        <th width="100px">库存</th>
                                        <th width="100px">出库数量</th>
                                        <!-- <th width="50px">损坏数量</th> -->
	                                    <!-- <th width="120px">折扣金额</th>-->
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in warehouse_temp.warehouseoutlist">
                                        <td><a href="javascript:void(0);" class="btn_del" ng-click="del_record($index)" title="删除"><span class="glyphicon glyphicon glyphicon-trash red"></span></a></td>
                                        <td>
                                            <!--<input type="text" class="form-control" placeholder="名称" ng-model="item.goodsname" ng-bind="item.goodsname" />-->
                                            <!--on-change="querygoodssku(item)"-->
                                            <comboxtable name="selectgoodsname" ng-model="item.selected" column-names="['商品','货号','进货单价','完好数量','损坏数量']" column-fields="['goodsname','barcode','purchaseprice','goodqty','damageqty']"
                                                         text-field="goodsname" datas="goodsskus.data.rows" index="{{$index}}" key-word="item.goodsname" is-required="true" is-show-index="true" is-always-reps-click="true"
                                                         content-style="width: 200px;" input-style="font-size:13px" input-class="form-control" input-placeholder="请选择商品" on-change="querygoodssku(item);">
                                            </comboxtable>
                                        </td>
                                        <!-- <td><input type="text" class="form-control"  ng-model="item.batchcode" ng-bind="item.batchcode" readonly /></td> -->
                                        <td>
                                            <comboxtable name="selectbatchcode" ng-model="item.batchcodeselect" column-names="['批次']" column-fields="['batchcode']"
                                                         text-field="batchcode" datas="goodsbatchcode.data.rows" index="{{$index}}" key-word="item.batchcode" is-show-index="true" is-always-reps-click="true"
                                                         content-style="width: 200px;" input-style="font-size:13px" input-class="form-control" input-placeholder="请选择批次" on-change="querygoodsbatchcode(item);">
                                            </comboxtable>
                                        </td>      
                                                                         
                                        <td><input type="text" class="form-control"  ng-model="item.goodssn" ng-bind="item.goodssn" readonly /></td>
                                        <td><input type="text" class="form-control"  ng-model="item.barcode" ng-bind="item.barcode" readonly/></td>
	                                    <!--    <td><input type="text" class="form-control" placeholder="SKU" ng-model="item.skuid" ng-bind="item.skuid" /></td>-->
	                                    <!--    <td><input type="text" class="form-control" placeholder="重量" ng-model="item.weight" ng-bind="item.weight" /></td>-->
	                                    <!--    <td>{{item.virtualflag==1?"否":"是"}}</td>-->
                                        <td><input type="text" class="form-control" ng-model="item.goodsunitprice" ng-bind="item.goodsunitprice" readonly/></td>
                                        <td><input type="text" class="form-control"  ng-model="item.leftgoodqty" ng-bind="item.leftgoodqty" readonly /></td> 
                                        <td><input type="number" ng-class="{haserror:warehouseoutAddForm.goodssoundqty.$invalid&&warehouse_temp.isCommitted}" class="form-control" placeholder="出库数量" name="goodssoundqty" ng-model="item.goodssoundqty" ng-bind="item.goodssoundqty" min="0" ng-pattern="/^\d+$/"  required/></td>
                                        <!-- <td><input type="number"  class="form-control" placeholder="损坏数量" name="goodsdamageqty" ng-model="item.goodsdamageqty" ng-class="{haserror:warehouseoutAddForm.goodsdamageqty.$invalid&&warehouse_temp.isCommitted}"  ng-bind="item.goodsdamageqty" min="0" ng-pattern="/^\d+$/"  required /></td> -->
                                        <!-- <td><input type="text" class="form-control" placeholder="折扣金额" ng-model="item.discountmoney" ng-bind="item.discountmoney" /></td>-->
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td></td>
                                        <td colspan="13"><a href="javascript:void(0);" class="btn-link" ng-click="add_record()" title="添加记录"><span class="glyphicon glyphicon-plus"></span>&nbsp;添加记录</a></td>
                                    </tr>
                                </tfoot>
                            </table>

                        <!-- div table-responsive end -->
                        </form>
                    </div>
                    <!-- div byHand end -->
                </div>

                 <div class="modal-footer">
                    <button id="btn_add" type="button" class="btn btn-primary" ng-click="saveWrehouseout_byHand(warehouseoutAddForm.$invalid);" ng-show="warehouse_temp.sourceflags"><span class="glyphicon glyphicon-floppy-saved"></span>&nbsp;保 存</button>
                    <!-- <button id="btn_search" type="button" class="btn btn-default" ng-click="closeWarehouseout();"><span class="glyphicon glyphicon-remove"></span>&nbsp;关 闭</button> -->
                </div> 
                <!-- div modal-footer end -->
            </div>
            <!-- div modal-body end -->

        <!-- </div> -->
        <!-- div modal-content end -->
    <!-- </div> -->
    <!-- div modal-dialog end -->
<!-- </div> -->
<!-- div dialog end -->


<div class="col-md-12 column padding0px margin0px">
    <!-- 模态框（Modal） -->
    <div class="modal fade" id="outModal" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="width:1000px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close"
                            data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        拣货
                    </h4>
                </div>
                <div class="modal-body">

                    <div class="form-group row">
                        <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                            <label>出库单号</label>
                            <input type="text" class="form-control" placeholder="出库单号" ng-model="warehouse_temp.warehouseoutnum" />
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                            <label for="txt_remark">备注</label>
                            <input type="text" class="form-control col-md-12" id="txt_remark" ng-model="warehouse_temp.remark" placeholder="备注"  />
                        </div>
                        <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                            <label>&nbsp;</label>
                            <div class="checkbox">
                                <label>
                                    <!-- <input type="checkbox" ng-model="warehouse_temp.autoaduitflag" ng-false-value="1" ng-true-value="2"> 自动审核 -->
                                </label>
                            </div>
                        </div>
                    </div>

                   <!--  <div class="table-responsive" style="width: 850px;overflow: auto"> -->
                        <table class="table table-bordered table-hover table-striped table-condensed">
                            <thead>
                                <tr class="info">
                                    <th width="50">操作</th>
                                    <th width="200">商品名称</th>
                                    <th width="50">商品规格</th>
                                    <th width="50">商品货号</th>
                                 <!--   <th>SKU</th>-->
                                    <th width="60">数量</th>
                                    <!-- <th width="40">原始单价</th> -->
                                    <th width="110">批次号</th>
                                    <th width="50">库存数量</th>
                                    <th width="50">出库数量</th>
                                    
                                    <!-- <th width="30">折扣率</th>
                                    <th width="50">单价</th> -->
                                </tr>
                            </thead>
                            <tbody>
                                <!-- <tr ng-repeat="item in modeldata.orderlists">
                                    <td ng-bind="$index+1">1</td>
                                    <td>{{item.goodsname}}</td>
                                    <td>{{item.goodsspec}}</td>
                                    <td>{{item.barcode}}</td> -->
                                    
                                  <!--  <td>{{item.skuname}}</td>-->
                                    
                                    <!-- <td>{{item.goodsqty}}</td>
                                    <td>{{item.goodsunitprice}}</td>
                                    <td>{{item.batchcode}}</td>
                                    <td>{{item.discount}}</td>
                                    <td>{{item.dealingprice}}</td>
                                </tr> -->
                                
                                 <tr ng-repeat="item in modeldata.orderlists">
                                        <td>
                                        <a ng-hide="item.addrecodeone" href="javascript:void(0);" class="btn_del" ng-click="add_recordone(item , $index)" title="添加相同"><span class="glyphicon glyphicon-plus"></span></a>&nbsp;&nbsp; 
                                        <a ng-if="item.delrecodeone" href="javascript:void(0);" class="btn_del" ng-click="del_recordone($index)" title="删除"><span class="glyphicon glyphicon glyphicon-trash red"></span></a>
                                        </td>
                                        <td>
                                            <input type="text" class="form-control"  ng-model="item.goodsname" ng-bind="item.goodsname" readonly />
                                        </td>
                                        <td><input type="text" class="form-control"  ng-model="item.goodsspec" ng-bind="item.goodsspec" readonly /></td>
                                        
                                        <td><input type="text" class="form-control"  ng-model="item.barcode" ng-bind="item.barcode" readonly /></td>
                                        <td><input type="text" class="form-control"  ng-model="item.goodsqty" ng-bind="item.goodsqty" readonly/></td>
                                      
                                       <!--  <td><input type="text" class="form-control" ng-model="item.goodsunitprice" ng-bind="item.goodsunitprice" readonly/></td> -->
                                       
                                        <td><!-- 
                                            <comboxtable name="selectgoodsname" ng-model="item.selected" column-names="['商品','货号','批次号','进货单价','库存数量']" column-fields="['goodsname','barcode','batchcode','purchaseprice','goodqty']"
                                                         text-field="batchcode" datas="goodsskus.data.rows" index="{{$index}}" key-word="item.batchcode" is-required="true" is-show-index="true" is-always-reps-click="true"
                                                         content-style="width: 150px;" input-style="font-size:13px" input-class="form-control" input-placeholder="请选择批次号" on-change="querygoodssku(item);">
                                            </comboxtable>-->
                                            <comboxtable ng-model="item.batchcodeselect1" column-names="['批次','库存']" column-fields="['batchcode','leftgoodqty']"
                                                         text-field="batchcode" datas="goodsbatchcode.data.rows" index="{{$index}}" key-word="item.batchcode" is-show-index="true" is-always-reps-click="true"
                                                         content-style="width: 200px;" input-style="font-size:13px" input-class="form-control" input-placeholder="请选择批次" on-change="querygoodsbatchcode(item);">
                                            </comboxtable>
                                        </td>
                                        <!-- <td><input type="number" ng-class="{haserror:warehouseoutAddForm.goodssoundqty.$invalid&&warehouse_temp.isCommitted}" class="form-control" placeholder="完好数量" name="goodssoundqty" ng-model="item.goodssoundqty" ng-bind="item.goodssoundqty" min="0" ng-pattern="/^\d+$/"  required/></td> 
                                        <td><input type="number"  class="form-control" name="goodsdamageqty" ng-model="item.goodsdamageqty" ng-bind="item.goodsspec" readonly/></td>-->
                                        <td><input type="text" class="form-control"  ng-model="item.leftgoodqty" ng-bind="item.leftgoodqty" readonly /></td>
                                   		<td><input type="number" class="form-control"  ng-model="item.goodsnumber" ng-bind="item.goodsnumber" /></td>
                                        
                                    </tr>
                                    
                            </tbody>
                        </table>
                    <!-- </div> -->
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" ng-click="saveWrehouseout_byOrder(modeldata);"><span class="glyphicon glyphicon-log-out"></span>&nbsp;拣货出库</button>
                </div>

            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
</div>
