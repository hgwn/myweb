
<!--start 遮罩窗体  -->

<div class="modal fade" id="changewarehouse-container" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<form class="form-horizontal" name="changewarehouseAddForm" novalidate>
	<div class="modal-dialog">
		<div class="modal-content" style="width:1000px; position:absolute; left:50%; margin-left:-500px;">
			<div class="modal-header">
				 <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h4 class="modal-title" id="myModalLabel">
					添加移库单
				</h4>
			</div>
			<!--start modal-body  -->
			<div class="modal-body">
				  <div class="form-group">
				    <label for="" class="col-md-2 control-label">移库单号</label>
				    <div class="col-md-3">
				      <input type="text" class="form-control input-sm" ng-maxlength="50" ng-class="{haserror:changewarehouseAddForm.changewarehousenum.$invalid&&addFormData.isCommitted}"  id="txt_changewarehouseNum" ng-model="addFormData.changewarehousenum" name="changewarehousenum"  placeholder="移库单"  required>
				      <div class="ng-messages-error" ng-messages="changewarehouseAddForm.changewarehousenum.$error" ng-show="changewarehouseAddForm.changewarehousenum.$invalid&&addFormData.isCommitted" >
						<span ng-message="required"><span class="glyphicon glyphicon-exclamation-sign"></span>移库单号不能为空!</span>
						<span ng-message="maxlength"><span class="glyphicon glyphicon-exclamation-sign"></span>移库单号最多只能输入50个字符!</span>
					  </div>
				    </div>
				    <label for="" class="col-md-2 control-label">目标仓库</label>
				    <div class="col-md-3">
				     	<select ng-class="{haserror:changewarehouseAddForm.targetwarehouseid.$invalid&&addFormData.isCommitted}" class="form-control input-sm" ng-model="addFormData.targetwarehouseid" name="targetwarehouseid" required>
				     		<option value="">请选择</option>
				     		<option ng-repeat="item in targetwarehouselist" value="{{item.targetwarehouseid}}">{{item.targetwarehousename}}</option>
				     	</select>
				    </div>
				  </div>
				  <div class="form-group">
				  	<label for="" class="col-md-2 control-label">备注</label>
				  	<div class="col-md-3">
				  		<input type="text"  class="form-control input-sm" ng-maxlength="200" name="remark" ng-model="addFormData.remark" placeholder="备注" />
				  		<div class="ng-messages-error" ng-messages="changewarehouseAddForm.remark.$error" ng-show="changewarehouseAddForm.remark.$invalid&&addFormData.isCommitted" >
						<span ng-message="maxlength"><span class="glyphicon glyphicon-exclamation-sign"></span>备注最多只能输入200个字符!</span>
					  </div>
				  	</div>
				  	 
				  	 <lable for="" class="col-md-2 control-label">&nbsp;</lable>
				  		<div class="col-md-3">
				  			 <input type="checkbox" ng-model="addFormData.autoaduitflag" ng-false-value="1" ng-true-value="2"/>自动审核
				  		</div>
				  </div>

				<table class="table table-bordered table-striped">
				    <thead>
				    <tr class="info">
				    	<th>操作</th>
				        <th>商品名称</th>
				        <th>商品编码</th>
				        <th>商品货号</th>
				        <th width="90">商品重量</th>
				         <th width="90">货物单价</th>
				        <th width="100">完好数量</th>
				        <th width="90">损坏数量</th>
				   <!--     <th width="80">虚拟商品</th>-->
				    </tr>
				    </thead>
				    <tbody>
				    <tr ng-repeat="item in addFormData.changewarehouselist">
				    	<td><a href="#" title="删除" ng-click="delHouseAddRecord($index)"><span class="glyphicon glyphicon glyphicon-trash red"></span></a></td>
				        <td>
				        	 <comboxtable name="selectgoodsname" ng-model="item.selected" column-names="['商品名','编码','重量','货号','货物单价','完好数量','损坏数量']"
		                     column-fields="['goodsname','goodssn','weight','barcode','purchaseprice','goodqty','damageqty']" is-always-reps-click="true" text-field="goodsname" datas="goodsstockData.data.rows" on-change="changewarehouseAddQuery(item)"
		                     key-word="item.keyWord" is-required="false" is-show-index="true" content-style="width:150px"
		                     input-style="font-size:13px" input-class="form-control">
		                </comboxtable>
				        </td>
				        <td><input type="text"   class="form-control" ng-model="item.goodssn" name="goodssn"  readonly/></td>
				        <td><input type="text"   class="form-control" ng-model="item.barcode" name="barcode"  readonly /></td>
				        <td><input type="number"  class="form-control" ng-model="item.weight" name="weight" min="0"    readonly/></td>
				        <td><input type="number" ng-class="{haserror:changewarehouseAddForm.purchaseprice.$invalid&&addFormData.isCommitted}"  class="form-control" ng-model="item.purchaseprice" min="0" name="purchaseprice" readonly /></td>
				        <td><input type="number" ng-class="{haserror:changewarehouseAddForm.goodssoundqty.$invalid&&addFormData.isCommitted}" class="form-control" ng-model="item.goodssoundqty" min="0" name="goodssoundqty" ng-pattern="/^\d+$/"  required/></td>
				        <td><input type="number" ng-class="{haserror:changewarehouseAddForm.goodsdamageqty.$invalid&&addFormData.isCommitted}" class="form-control" ng-model="item.goodsdamageqty" min="0" name="goodsdamageqty" ng-pattern="/^\d+$/"  required/></td>
				        <!-- <td>
				      {{item.virtualflag==1?"否":"是"}}
                		</td> -->
				    </tr>
				    </tbody>
				    <tfoot>
			        <tr>
			            <td></td>
			            <td colspan="12"><a href="javascript:void(0);" class="btn-link" ng-click="addrecord()" title="添加记录"><span class="glyphicon glyphicon-plus"></span>&nbsp;添加记录</a></td>
			        </tr>
			        </tfoot>
				</table>


			</div>
			<!--end modal-body  -->
			<div class="modal-footer">
				 <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button> 
				 <button type="submit" class="btn btn-primary" ng-click="addFormDataSumbit(changewarehouseAddForm.$invalid)">保存</button>
			</div>
		</div>
		
	</div>
</form>	
</div>
<!--end 遮罩窗体  -->	